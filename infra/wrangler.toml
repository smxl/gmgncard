name = "gmgncard-worker"
main = "../apps/worker/src/index.ts"
compatibility_date = "2024-06-20"

[vars]
ENV = "development"
JWT_SECRET = "change-me"
TURNSTILE_SECRET = "dummy"
TURNSTILE_SITE_KEY = "dummy"
CF_ACCESS_AUD = "dummy"
CF_ACCESS_TEAM = "dummy"
CORS_ORIGINS = "http://localhost:4173,http://localhost:4174"

[[d1_databases]]
binding = "GMGNCARD_DB"
database_name = "gmgncard-db"
database_id = "00000000-0000-0000-0000-000000000000"

[[kv_namespaces]]
binding = "GMGNCARD_KV"
id = "00000000000000000000000000000000"

[[r2_buckets]]
binding = "GMGNCARD_R2"
bucket_name = "gmgncard-r2"

[[queues.producers]]
queue = "gmgncard-jobs"
binding = "GMGNCARD_QUEUE"

[[queues.consumers]]
queue = "gmgncard-jobs"

[triggers]
crons = ["0 6 * * *"]
